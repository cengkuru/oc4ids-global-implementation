{"ast":null,"code":"/**\n * @license\n * SPDX-License-Identifier: Apache-2.0\n */\nimport { unwrapUrlOrSanitize } from '../../builders/url_builders.js';\n/**\n * open calls {@link Window.open} on the given {@link Window}, given a\n * target {@link Url}.\n */\nexport function open(win, url, target, features) {\n  const sanitizedUrl = unwrapUrlOrSanitize(url);\n  if (sanitizedUrl !== undefined) {\n    return win.open(sanitizedUrl, target, features);\n  }\n  return null;\n}\n/** Returns CSP nonce, if set for any script tag. */\nexport function getScriptNonce(win) {\n  return getNonceFor('script', win);\n}\n/** Returns CSP nonce, if set for any style tag. */\nexport function getStyleNonce(win) {\n  return getNonceFor('style', win);\n}\nfunction getNonceFor(elementName, win) {\n  var _a;\n  const doc = win.document;\n  // document.querySelector can be undefined in non-browser environments.\n  const el = (_a = doc.querySelector) === null || _a === void 0 ? void 0 : _a.call(doc, `${elementName}[nonce]`);\n  if (el) {\n    // Try to get the nonce from the IDL property first, because browsers that\n    // implement additional nonce protection features (currently only Chrome) to\n    // prevent nonce stealing via CSS do not expose the nonce via attributes.\n    // See https://github.com/whatwg/html/issues/2369\n    return el['nonce'] || el.getAttribute('nonce') || '';\n  }\n  return '';\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}